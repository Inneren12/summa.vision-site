(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{9064:function(e,t,n){Promise.resolve().then(n.bind(n,2902))},2902:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(7573),r=n(7653);function i(){let e=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let t=e.current;if(!t)return;let a=null,r=null,i=()=>t.setAttribute("data-e2e-ready","1"),l=()=>{let e=document.createElement("canvas");e.style.width="100%",e.style.height="100%",e.setAttribute("data-testid","fallback-canvas"),t.appendChild(e);let n=()=>{let n=t.getBoundingClientRect(),a=window.devicePixelRatio||1;e.width=Math.max(1,Math.round(n.width*a)),e.height=Math.max(1,Math.round(n.height*a))};n(),(a=new ResizeObserver(n)).observe(t),window.addEventListener("resize",n),requestAnimationFrame(i),r=()=>{try{null==a||a.disconnect()}catch(e){console.warn("Failed to disconnect ResizeObserver",e)}window.removeEventListener("resize",n);try{t.removeChild(e)}catch(e){console.warn("Failed to remove fallback canvas",e)}}};return(async()=>{if(!function(){try{let e=document.createElement("canvas");return!!(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(e){return console.warn("WebGL capability check failed",e),!1}}()){l();return}try{let{Map:e}=await n.e(988).then(n.bind(n,1988)),a=new e({container:t,style:{version:8,sources:{},layers:[]},attributionControl:!1,antialias:!1,hash:!1,preserveDrawingBuffer:!0}),l=()=>{t.querySelector("canvas")&&i()},o=()=>{l(),a.off("styledata",c)},c=()=>{a.isStyleLoaded()&&(l(),a.off("styledata",c))};a.on("load",o),a.on("styledata",c),setTimeout(()=>{!t.dataset.e2eReady&&t.querySelector("canvas")&&i()},800),r=()=>{a.off("load",o),a.off("styledata",c),a.remove()}}catch(e){console.warn("MapLibre unavailable in E2E, using fallback canvas:",e),l()}})(),()=>{try{null==r||r()}catch(e){console.warn("Failed to clean up MapLibre",e)}try{null==a||a.disconnect()}catch(e){console.warn("Failed to disconnect ResizeObserver",e)}}},[]),(0,a.jsx)("div",{"data-testid":"map-container",ref:e,style:{width:"100%",height:"70vh",minHeight:300}})}}},function(e){e.O(0,[293,286,744],function(){return e(e.s=9064)}),_N_E=e.O()}]);