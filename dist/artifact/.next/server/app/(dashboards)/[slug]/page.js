(()=>{var e={};e.id=364,e.ids=[364],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},7183:(e,a,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.r(a),t.d(a,{GlobalError:()=>c.a,__next_app__:()=>g,originalPathname:()=>b,pages:()=>p,routeModule:()=>f,tree:()=>h});var r=t(7043),l=t(4321),n=t(9161);t(1449);var i=t(7655),o=t(1169),d=t(6041),c=t.n(d),u=t(9962),m={};for(let e in u)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(m[e]=()=>u[e]);t.d(a,m);var x=e([r,l,n]);[r,l,n]=x.then?(await x)():x;let h=["",{children:["(dashboards)",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7043)),"C:\\B\\NG\\summa.vision-site\\apps\\web\\app\\(dashboards)\\[slug]\\page.tsx"]}]},{}]},{metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(t.bind(t,4321)),"C:\\B\\NG\\summa.vision-site\\apps\\web\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,9161)),"C:\\B\\NG\\summa.vision-site\\apps\\web\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,1449)),"C:\\B\\NG\\summa.vision-site\\apps\\web\\app\\not-found.tsx"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],p=["C:\\B\\NG\\summa.vision-site\\apps\\web\\app\\(dashboards)\\[slug]\\page.tsx"],b="/(dashboards)/[slug]/page",g={require:t,loadChunk:()=>Promise.resolve()},f=new i.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/(dashboards)/[slug]/page",pathname:"/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:h}});s()}catch(e){s(e)}})},9732:(e,a,t)=>{Promise.resolve().then(t.bind(t,437)),Promise.resolve().then(t.bind(t,8804))},437:(e,a,t)=>{"use strict";t.d(a,{default:()=>l});var s=t(3227),r=t(5484);function l({title:e,description:a,filters:t,children:l}){return s.jsx(r.Mw,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("header",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-semibold text-neutral-900",children:e}),a?s.jsx("p",{className:"max-w-2xl text-sm text-neutral-600",children:a}):null]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,280px)_minmax(0,1fr)]",children:[t?s.jsx("aside",{"aria-label":"Фильтры",className:"lg:sticky lg:top-20",children:t}):null,s.jsx("main",{id:"dash-main",tabIndex:-1,className:"space-y-6 focus:outline-none",children:l})]})]})})}},8804:(e,a,t)=>{"use strict";t.d(a,{default:()=>u});var s=t(3227),r=t(3677),l=t(5484);let n=[{value:"",label:"Все страны"},{value:"CA",label:"Канада"},{value:"US",label:"США"},{value:"MX",label:"Мексика"}],i=[{value:"energy",label:"Энергетика"},{value:"transport",label:"Транспорт"},{value:"finance",label:"Финансы"},{value:"agriculture",label:"Агро"}],o=l.gV.min,d=l.gV.max,c=e=>Math.min(Math.max(e,o),d);function u(){let e=(0,r.useId)(),a=(0,r.useId)(),{state:t,setState:u,reset:m}=(0,l.ZS)(),[x,h]=t.range??l.eW,p=c(x),b=c(h);return(0,s.jsxs)("form",{"aria-label":"Фильтры дашборда",className:"space-y-4 rounded-lg border border-neutral-200 bg-white p-4 shadow-sm",onSubmit:e=>e.preventDefault(),children:[(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium",htmlFor:"dash-filter-country",children:"Страна"}),s.jsx("select",{id:"dash-filter-country","aria-controls":"dash-main",className:"w-full rounded border border-neutral-300 bg-white p-2 text-sm",value:t.country??"",onChange:e=>{let a=e.target.value;u(e=>({...e,country:a||void 0}))},children:n.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium",htmlFor:"dash-filter-sectors",children:"Сектора"}),s.jsx("select",{id:"dash-filter-sectors",multiple:!0,size:Math.min(i.length,5),"aria-describedby":e,"aria-controls":"dash-main",className:"w-full rounded border border-neutral-300 bg-white p-2 text-sm",value:t.sectors,onChange:e=>{let a=Array.from(e.target.selectedOptions).map(e=>e.value);u(e=>({...e,sectors:a}))},children:i.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))}),s.jsx("p",{id:e,className:"text-xs text-neutral-500",children:"Используйте Ctrl/Cmd или Shift для выбора нескольких значений."})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium",htmlFor:"dash-filter-date",children:"Дата обновления"}),s.jsx("input",{id:"dash-filter-date","aria-controls":"dash-main",type:"date",className:"w-full rounded border border-neutral-300 p-2 text-sm",value:t.date??"",onChange:e=>{let a=e.target.value;u(e=>({...e,date:a||void 0}))}})]}),(0,s.jsxs)("fieldset",{"aria-describedby":a,className:"space-y-2",children:[s.jsx("legend",{className:"text-sm font-medium",children:"Диапазон лет"}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("label",{className:"flex flex-col gap-1 text-xs",htmlFor:"dash-filter-range-start",children:[s.jsx("span",{className:"font-semibold text-neutral-700",children:"Начало"}),s.jsx("input",{id:"dash-filter-range-start","aria-controls":"dash-main",type:"range",min:o,max:d,step:1,value:p,onChange:e=>{let a=c(Number.parseInt(e.target.value,10));u(e=>{let[,t]=e.range??l.eW,s=c(t);return{...e,range:[Math.min(a,s),Math.max(a,s)]}})}}),s.jsx("span",{"aria-live":"polite",className:"text-neutral-600",children:p})]}),(0,s.jsxs)("label",{className:"flex flex-col gap-1 text-xs",htmlFor:"dash-filter-range-end",children:[s.jsx("span",{className:"font-semibold text-neutral-700",children:"Конец"}),s.jsx("input",{id:"dash-filter-range-end","aria-controls":"dash-main",type:"range",min:o,max:d,step:1,value:b,onChange:e=>{let a=c(Number.parseInt(e.target.value,10));u(e=>{let[t]=e.range??l.eW,s=c(t);return{...e,range:[Math.min(s,a),Math.max(s,a)]}})}}),s.jsx("span",{"aria-live":"polite",className:"text-neutral-600",children:b})]})]}),(0,s.jsxs)("p",{id:a,className:"text-xs text-neutral-500",children:["Подберите диапазон годов. Значения по умолчанию: ",l.eW[0],"–",l.eW[1],"."]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button","aria-label":"Сбросить фильтры",className:"rounded border border-neutral-300 px-3 py-2 text-sm font-medium text-neutral-700 transition-colors hover:bg-neutral-100",onClick:m,children:"Сбросить"})})]})}},5484:(e,a,t)=>{"use strict";t.d(a,{eW:()=>i,gV:()=>n,Mw:()=>x,ZS:()=>h});var s=t(3227),r=t(2854),l=t(3677);let n={min:2010,max:2030},i=[2018,2024],o=()=>({country:void 0,sectors:[],date:void 0,range:[...i]}),d=(0,l.createContext)(null),c=e=>`f[${e}]`,u=e=>Array.from(e.keys()).some(e=>e.startsWith("f["));function m(e){let[a,t]=e.range??i,s=Math.min(Math.max(a,n.min),n.max),r=Math.min(Math.max(t,n.min),n.max),l=Array.from(new Set(e.sectors.filter(Boolean)));return{country:e.country||void 0,date:e.date||void 0,sectors:l,range:[Math.min(s,r),Math.max(s,r)]}}function x({children:e,initialState:a}){let t=(0,r.useSearchParams)(),n=(0,r.usePathname)(),x=(0,r.useRouter)(),h=(0,l.useMemo)(()=>m(a??o()),[a]),[p,b]=(0,l.useState)(()=>u(t)?m(function(e){let a=e.get(c("country"))??void 0,t=e.get(c("date"))??void 0,s=function(e){if(!e)return null;let[a,t]=e.split(".."),s=Number.parseInt(a??"",10),r=Number.parseInt(t??"",10);return Number.isNaN(s)||Number.isNaN(r)?null:[Math.min(s,r),Math.max(s,r)]}(e.get(c("range")));return{country:a,date:t,sectors:Array.from(new Set(e.getAll(c("sector")).flatMap(e=>e.split(",").map(e=>e.trim()).filter(Boolean)))),range:s??[...i]}}(t)):h),g=(0,l.useCallback)(e=>{b(a=>{let s=m("function"==typeof e?e(a):e),r=(function(e,a){let t=new URLSearchParams(e.toString());return Array.from(t.keys()).filter(e=>e.startsWith("f[")).forEach(e=>t.delete(e)),a.forEach((e,a)=>{t.append(a,e)}),t})(t,function(e){let a=new URLSearchParams;return e.country&&a.set(c("country"),e.country),e.date&&a.set(c("date"),e.date),e.sectors.length>0&&e.sectors.forEach(e=>a.append(c("sector"),e)),(e.range[0]!==i[0]||e.range[1]!==i[1])&&a.set(c("range"),`${e.range[0]}..${e.range[1]}`),a}(s)).toString();if(r!==t.toString()){let e=`${n}${r?`?${r}`:""}`;x.replace(e,{scroll:!1})}return s})},[n,x,t]),f=(0,l.useCallback)((e,a)=>{g(t=>({...t,[e]:a}))},[g]),v=(0,l.useCallback)(()=>{g(()=>h)},[h,g]),j=(0,l.useMemo)(()=>({state:p,setState:g,setFilter:f,reset:v}),[v,f,g,p]);return s.jsx(d.Provider,{value:j,children:e})}function h(){let e=(0,l.useContext)(d);if(!e)throw Error("useDashState must be used within a DashStateProvider");return e}},7043:(e,a,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.r(a),t.d(a,{default:()=>o});var r=t(6562),l=t(8339),n=t(2882),i=e([l,n]);function o({params:e}){let a=`Дашборд: ${decodeURIComponent(e.slug)}`;return(0,r.jsxs)(l.Z,{title:a,filters:r.jsx(n.Z,{}),children:[(0,r.jsxs)("section",{"aria-label":"Визуализации",className:"grid gap-4 md:grid-cols-2",children:[r.jsx(d,{title:"График A"}),r.jsx(d,{title:"График B"})]}),r.jsx(c,{})]})}function d({title:e}){let a=`viz-${e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")||"section"}`;return(0,r.jsxs)("article",{className:"space-y-3 rounded-lg border border-neutral-200 bg-white p-4 shadow-sm","aria-labelledby":a,role:"region",children:[r.jsx("h2",{id:a,className:"text-lg font-semibold text-neutral-900",children:e}),r.jsx("p",{className:"text-sm text-neutral-600",children:"Данные появятся здесь. Используйте фильтры слева, чтобы уточнить визуализацию."}),r.jsx("div",{className:"flex h-40 items-center justify-center rounded bg-neutral-100 text-sm text-neutral-500",children:"Заглушка графика"})]})}function c(){return(0,r.jsxs)("section",{className:"overflow-hidden rounded-lg border border-neutral-200 bg-white shadow-sm","aria-labelledby":"dash-table-title",children:[(0,r.jsxs)("div",{className:"border-b border-neutral-200 bg-neutral-50 px-4 py-3",children:[r.jsx("h2",{id:"dash-table-title",className:"text-base font-semibold text-neutral-900",children:"Таблица данных"}),r.jsx("p",{className:"text-xs text-neutral-600",children:"Табличные значения синхронизируются с выбранными фильтрами и обновятся автоматически."})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-neutral-200 text-left text-sm",children:[r.jsx("thead",{className:"bg-neutral-50 text-xs uppercase tracking-wide text-neutral-500",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{scope:"col",className:"px-4 py-2",children:"Показатель"}),r.jsx("th",{scope:"col",className:"px-4 py-2",children:"Значение"})]})}),(0,r.jsxs)("tbody",{className:"divide-y divide-neutral-200 bg-white",children:[(0,r.jsxs)("tr",{children:[r.jsx("th",{scope:"row",className:"px-4 py-2 font-medium text-neutral-800",children:"Placeholder"}),r.jsx("td",{className:"px-4 py-2 text-neutral-700",children:"0"})]}),(0,r.jsxs)("tr",{children:[r.jsx("th",{scope:"row",className:"px-4 py-2 font-medium text-neutral-800",children:"Placeholder 2"}),r.jsx("td",{className:"px-4 py-2 text-neutral-700",children:"0"})]})]})]})})]})}[l,n]=i.then?(await i)():i,s()}catch(e){s(e)}})},8339:(e,a,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>e});var r=t(1909);let e=(await (0,r.createProxy)(String.raw`C:\B\NG\summa.vision-site\apps\web\components\dash\DashLayout.tsx`)).default;s()}catch(e){s(e)}},1)},2882:(e,a,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>e});var r=t(1909);let e=(await (0,r.createProxy)(String.raw`C:\B\NG\summa.vision-site\apps\web\components\dash\FilterPanel.tsx`)).default;s()}catch(e){s(e)}},1)}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[333,884,667,825],()=>t(7183));module.exports=s})();