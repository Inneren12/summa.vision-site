(()=>{var e={};e.id=655,e.ids=[655],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},5617:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{GlobalError:()=>u.a,__next_app__:()=>g,originalPathname:()=>x,pages:()=>h,routeModule:()=>b,tree:()=>f});var s=r(7863),i=r(4321),n=r(9161);r(1449);var o=r(7655),l=r(1169),c=r(6041),u=r.n(c),d=r(9962),p={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(p[e]=()=>d[e]);r.d(t,p);var m=e([s,i,n]);[s,i,n]=m.then?(await m)():m;let f=["",{children:["(visual)",{children:["story",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7863)),"C:\\B\\NG\\summa.vision-site\\apps\\web\\app\\(visual)\\story\\page.tsx"]}]},{}]},{metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4321)),"C:\\B\\NG\\summa.vision-site\\apps\\web\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,9161)),"C:\\B\\NG\\summa.vision-site\\apps\\web\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,1449)),"C:\\B\\NG\\summa.vision-site\\apps\\web\\app\\not-found.tsx"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],h=["C:\\B\\NG\\summa.vision-site\\apps\\web\\app\\(visual)\\story\\page.tsx"],x="/(visual)/story/page",g={require:r,loadChunk:()=>Promise.resolve()},b=new o.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/(visual)/story/page",pathname:"/story",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:f}});a()}catch(e){a(e)}})},881:(e,t,r)=>{Promise.resolve().then(r.bind(r,9448))},9448:(e,t,r)=>{"use strict";r.d(t,{StorySteps:()=>h});var a=r(3227),s=r(3677);function i(){return(void 0)??!1}function n(){return!1}function o(e){return()=>{}}function l(e){return e?"discrete":"animated"}function c({activeStepId:e}){let t=(0,s.useMemo)(()=>({activeStepId:null,history:[],ready:!1}),[]),r=(0,s.useRef)(null);r.current||(r.current=(globalThis.__fakeChart||(globalThis.__fakeChart={state:{activeStepId:null,history:[],ready:!1}}),globalThis.__fakeChart));let{ref:c,currentSpec:d,applyState:p,isReady:m}=function(e){let{adapter:t,lib:r,initialSpec:a}=e,{isReducedMotion:c}={isReducedMotion:(0,s.useSyncExternalStore)(o,i,n)},u=(0,s.useRef)(c);u.current=c;let d=(0,s.useRef)("function"==typeof t?null:t),[p,m]=(0,s.useState)(d.current),f=(0,s.useRef)(null),[h,x]=(0,s.useState)(null),g=(0,s.useCallback)(()=>"function"==typeof a?a({discrete:u.current}):a,[a]),b=(0,s.useRef)(null);null===b.current&&(b.current=g());let[y,v]=(0,s.useState)(()=>b.current),k=(0,s.useRef)(b.current);k.current=y;let w=(0,s.useRef)(null),[S,j]=(0,s.useState)(!1),[N,C]=(0,s.useState)(null),R=(0,s.useRef)([]),P=(0,s.useCallback)((e,t)=>{var r,a;let s=d.current;if(s)try{let r=u.current;if(l(r),t.wasFunction){let a=t.value;s.applyState(e,()=>a,{discrete:r})}else s.applyState(e,t.value,{discrete:r});t.meta?.stepId,t.meta?.reason}catch(e){C(e instanceof Error?e:Error("string"==typeof e?e:"Unknown visualization error")),l(u.current),t.meta?.stepId,t.meta?.reason,function(e){if(e instanceof Error)return e.message||e.name;if("string"!=typeof e)try{JSON.stringify(e)}catch{return String(e)}}(e)}},[r]),I=(0,s.useCallback)((e,t)=>{var r;let a="function"==typeof e,s=a?e((r=function(e){if("function"==typeof globalThis.structuredClone)try{return globalThis.structuredClone(e)}catch{}return Array.isArray(e)?e.slice():{...e}}(k.current),"function"==typeof Object.freeze?Object.freeze(r):r)):e;k.current=s,v(s);let i={value:s,wasFunction:a,meta:t},n=w.current;if(n){P(n,i);return}R.current.push(i)},[P]);(0,s.useCallback)(e=>{if(0!==R.current.length)for(let t of R.current.splice(0,R.current.length))P(e,t)},[P]);let _=(0,s.useCallback)(e=>{f.current=e,x(e)},[]);return(0,s.useMemo)(()=>({ref:_,elementRef:f,instance:w.current,currentSpec:y,isReady:S,discrete:c,error:N,applyState:I}),[I,y,N,S,_,c])}({adapter:u,lib:"fake",initialSpec:t}),f=(0,s.useMemo)(()=>d.activeStepId?`Active story step: ${d.activeStepId}`:"No active story step",[d.activeStepId]);return a.jsx("div",{ref:c,className:"flex h-48 w-full items-center justify-center rounded-2xl border border-muted/30 bg-gradient-to-br from-primary/20 to-primary/5 text-center","data-active-step":d.activeStepId??"","data-accepts-keys":"true","data-ready":d.ready||m?"true":"false","data-history":d.history.join(","),"data-testid":"fake-chart","aria-label":f,role:"application",tabIndex:0,children:a.jsx("span",{"aria-hidden":"true",className:"text-sm font-medium text-fg",children:d.activeStepId?`Step: ${d.activeStepId}`:"Awaiting step"})})}async function u(){return(await r.e(250).then(r.bind(r,5250))).fakeChartAdapter}let d=[{id:"baseline",title:"Baseline momentum",description:"Summa Vision’s programmes start by mapping existing community assets and aligning local partners around a shared north star. Baseline data on education, health, and climate risks lets teams focus on leverage points rather than duplicating efforts."},{id:"activation",title:"Activation and pilots",description:"Pilot projects launch quickly to prove traction—think microgrid pilots, digital skills cohorts, or regenerative agriculture demos. Every activation publishes metrics publicly so peers can replicate what works."},{id:"scale",title:"Scaling with partners",description:"Once the pilot playbook is solid, it expands with regional delivery partners. Shared infrastructure, toolkits, and funding rails help municipalities and NGOs adopt the blueprint while adapting to local context."},{id:"impact",title:"Measuring real outcomes",description:"Impact dashboards track emissions avoided, jobs created, and resilience gains. Communities can subscribe to alerts for new data drops, and media kits make it easy to report on progress without waiting for quarterly summaries."}],p=/^(-?\d*(?:\.\d+)?)(px|%)$/i;function m(e){return 1e-8>Math.abs(e)?0:e}let f="step-";function h(){let e=(0,s.useMemo)(()=>d,[]),[t,r]=(0,s.useState)(e[0]?.id??""),i=(0,s.useRef)({}),n=(0,s.useRef)(null);(0,s.useRef)(t);let o=function(){let[e,t]=(0,s.useState)(()=>1);return e}();(0,s.useMemo)(()=>(function(e,t){if(!e||!("number"==typeof t&&Number.isFinite(t)&&t>0)||.001>=Math.abs(t-1))return e;let r=e.trim().split(/\s+/);return 0===r.length?e:r.map(e=>{let r=e.match(p);if(!r)return e;let a=Number.parseFloat(r[1]);return Number.isFinite(a)&&0!==a?`${function(e){let t=Number(m(e).toFixed(4));return`${m(t)}`}(a/t)}${r[2]}`:`0${r[2]}`}).join(" ")})("-45% 0px -45% 0px",o)??"-45% 0px -45% 0px",[o]);let l=(0,s.useCallback)(t=>{let a=e[t];if(!a)return!1;r(a.id),function(e,t={}){!function(e,t={}){}(0,t)}(a.id,{hashPrefix:f});let s=i.current[a.id];return s?.focus?.({preventScroll:!0}),!0},[e]);!function(e){let{activeStepId:t,onStepFromUrl:r,mode:a="auto",throttleMs:i=300,hashPrefix:n,queryParam:o}=e,l=(0,s.useMemo)(()=>({hashPrefix:n,queryParam:o}),[n,o]);(0,s.useRef)(0),(0,s.useRef)(null),(0,s.useRef)(null),(0,s.useRef)("query"===a?"query":"hash"),(0,s.useRef)(!1),(0,s.useRef)(null),(0,s.useRef)(!1),(0,s.useCallback)((e=!1)=>{},[a,r,l])}({activeStepId:t,onStepFromUrl:(0,s.useCallback)(t=>{let r=e.findIndex(e=>e.id===t);r<0||l(r)},[l,e]),hashPrefix:f});let u=(0,s.useCallback)(e=>t=>{let r=i.current[e];n.current&&r&&n.current.unobserve(r),i.current[e]=t,n.current&&t&&n.current.observe(t)},[]),h=(0,s.useCallback)(t=>{let r=e.findIndex(e=>e.id===t);r<0||l(r)},[l,e]),x=(0,s.useCallback)(t=>{let{key:r}=t,a=t.currentTarget.getAttribute("data-step-id");if(!a)return;let s=e.findIndex(e=>e.id===a);if(s<0)return;let i=!1;switch(r){case"ArrowDown":case"PageDown":i=l(s+1);break;case"ArrowUp":case"PageUp":i=l(s-1);break;case"Home":i=l(0);break;case"End":i=l(e.length-1)}i&&t.preventDefault()},[l,e]);return(0,a.jsxs)("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-12 px-4 py-16 lg:flex-row",children:[a.jsx("aside",{className:"lg:w-1/3",children:(0,a.jsxs)("div",{className:"sticky top-24 space-y-3 rounded-2xl border border-muted/30 bg-bg/70 p-6 backdrop-blur",children:[a.jsx(c,{activeStepId:t}),a.jsx("h2",{className:"text-xl font-semibold text-fg",children:"Story flow"}),a.jsx("p",{className:"text-sm text-muted",children:"Jump directly to a section or copy the link for a deep link. The active step syncs to the URL so refresh and share keep context."}),a.jsx("nav",{"aria-label":"Story steps",className:"space-y-2",children:e.map((e,r)=>{let s=e.id===t;return(0,a.jsxs)("button",{type:"button",onClick:()=>h(e.id),className:`w-full rounded-xl px-4 py-3 text-left transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary motion-reduce:transition-none ${s?"bg-primary text-bg shadow-lg":"bg-transparent text-muted hover:bg-muted/10 focus-visible:text-fg"}`,"data-step-id":e.id,"aria-current":s?"step":void 0,children:[(0,a.jsxs)("span",{className:"text-xs font-semibold uppercase tracking-wide text-muted",children:["Step ",r+1]}),a.jsx("span",{className:`block text-base font-medium ${s?"text-bg":"text-fg"}`,children:e.title})]},e.id)})})]})}),a.jsx("section",{className:"space-y-24 lg:w-2/3",children:e.map((e,t)=>(0,a.jsxs)("article",{id:`${f}${e.id}`,"data-step-id":e.id,ref:u(e.id),className:"story-step-anchor scroll-mt-28 rounded-3xl border border-muted/20 bg-bg/80 p-8 shadow-sm transition motion-reduce:transition-none",tabIndex:0,onKeyDown:x,children:[(0,a.jsxs)("p",{className:"text-sm font-semibold uppercase tracking-wide text-muted",children:["Step ",t+1]}),a.jsx("h3",{className:"mt-3 text-3xl font-semibold text-fg",children:e.title}),a.jsx("p",{className:"mt-4 text-lg leading-7 text-muted",children:e.description})]},e.id))})]})}},4135:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{G:()=>e});var s=r(1909);let e=(await (0,s.createProxy)(String.raw`C:\B\NG\summa.vision-site\apps\web\app\(visual)\story\StorySteps.tsx`)).StorySteps;a()}catch(e){a(e)}},1)},7863:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>l,metadata:()=>c});var s=r(6562),i=r(4135),n=r(3902),o=e([i]);i=(o.then?(await o)():o)[0];let c={title:"Story deep links",description:"Demo story experience with step deep links and URL restoration."};function l(){return(0,s.jsxs)("main",{className:"min-h-screen bg-bg text-fg",children:[(0,s.jsxs)("header",{className:"bg-bg/80 py-16 text-center",children:[s.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-muted",children:n.i.heroTagline}),s.jsx("h1",{className:"mt-4 text-4xl font-bold",children:n.i.heroTitle}),s.jsx("p",{className:"mt-4 text-lg text-muted",children:n.i.heroDescription})]}),s.jsx(i.G,{})]})}a()}catch(e){a(e)}})},3902:(e,t,r)=>{"use strict";r.d(t,{i:()=>a});let a={heroTagline:"Scrollytelling preview",heroTitle:"Infrastructure story with deep linked steps",heroDescription:"Navigate the steps below or copy the URL hash/query—refreshing or sharing restores the same section.",coverImage:{src:"/brand/summa-vision-mark.png",alt:"Summa Vision logomark"},steps:[{id:"baseline",title:"Baseline momentum",description:"Summa Vision’s programmes start by mapping existing community assets and aligning local partners around a shared north star. Baseline data on education, health, and climate risks lets teams focus on leverage points rather than duplicating efforts."},{id:"activation",title:"Activation and pilots",description:"Pilot projects launch quickly to prove traction—think microgrid pilots, digital skills cohorts, or regenerative agriculture demos. Every activation publishes metrics publicly so peers can replicate what works."},{id:"scale",title:"Scaling with partners",description:"Once the pilot playbook is solid, it expands with regional delivery partners. Shared infrastructure, toolkits, and funding rails help municipalities and NGOs adopt the blueprint while adapting to local context."},{id:"impact",title:"Measuring real outcomes",description:"Impact dashboards track emissions avoided, jobs created, and resilience gains. Communities can subscribe to alerts for new data drops, and media kits make it easy to report on progress without waiting for quarterly summaries."}]};a.steps}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[333,884,667,825],()=>r(5617));module.exports=a})();